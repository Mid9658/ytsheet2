<!DOCTYPE html>
<html lang="ja">
<head>
  <TMPL_INCLUDE NAME="../_common/sheet-head.html">
  <link rel="stylesheet" media="all" href="<TMPL_VAR coreDir>/skin/nc/css/edit.css?<TMPL_VAR ver>">
  <script src="<TMPL_VAR coreDir>/skin/_common/js/lib/Sortable.min.js"></script>
  <script src="<TMPL_VAR coreDir>/skin/_common/js/lib/compressor.min.js"></script>
  <style>
    #image,
    .image-custom-view {
      background-image: url("<TMPL_VAR imageURL>");
    }
  </style>
</head>
<body>
<header>
  <h1><a href="./"><TMPL_VAR title></a></h1>
  <nav>
    <ul>
      <TMPL_LOOP Menu><li class="<TMPL_VAR SIZE>"><a <TMPL_VAR TYPE>="<TMPL_VAR VALUE>"><TMPL_VAR TEXT></a></TMPL_LOOP>
      <li><a onclick="nightModeChange()" class="nightmode-icon" title="ナイトモード"></a>
    </ul>
  </nav>
</header>
<div class="header-back-name"><TMPL_VAR titleName> - <TMPL_VAR title></div>
<main id="character">
<form name="sheet" id="edit-form" method="post" action="./">
<input type="hidden" name="mode" value="<TMPL_VAR mode>">
<TMPL_IF token><input type="hidden" name="_token" value="<TMPL_VAR token>"></TMPL_IF>
<input type="hidden" name="id" value="<TMPL_VAR id>">
<details class="box" id="edit-protect">
  <summary>編集権限</summary>
  <fieldset id="edit-protect-view">
    <input type="hidden" name="protectOld" value="<TMPL_VAR protectOld>">
    <TMPL_IF LOGIN_ID>
    <label><input type="radio" name="protect" value="account"<TMPL_IF protectAccount> checked</TMPL_IF>> アカウントに紐付ける（ログイン中のみ編集可能）</label><br>
    </TMPL_IF>
    <label><input type="radio" name="protect" value="password"<TMPL_IF protectPassword> checked</TMPL_IF>> パスワードで保護</label> <TMPL_IF passHidden><input type="hidden" name="pass" value="<TMPL_VAR pass>"><TMPL_ELSE><input type="password" name="pass"></TMPL_IF><br>
    <label><input type="radio" name="protect" value="none"<TMPL_IF protectNone> checked</TMPL_IF>> 保護しない（誰でも編集可能）</label>
  </fieldset>
</details>
<article>
<section id="area-name" class="box color-set">
  <h2>基本情報</h2>
  <dl>
    <dt>キャラクター名<dd><input type="text" name="characterName" value="<TMPL_VAR characterName>">
    <dt>プレイヤー名<dd><input type="text" name="playerName" value="<TMPL_VAR playerName>">
    <dt>コードネーム<dd><input type="text" name="aka" value="<TMPL_VAR aka>">
  </dl>
</section>
<section id="area-status" class="box">
  <h2>ステータス</h2>
  <TMPL_VAR imageForm>
  <dl>
    <dt>年齢<dd><input type="text" name="age" value="<TMPL_VAR age>">
    <dt>性別<dd><input type="text" name="gender" value="<TMPL_VAR gender>">
  </dl>
  <dl>
    <dt>ポジション<dd>
      <select name="position">
        <option value="">--</option>
        <option>アリス</option>
        <option>ホリック</option>
        <option>オートマトン</option>
        <option>ジャンク</option>
        <option>コート</option>
        <option>ソロリティ</option>
      </select>
    <dt>メインクラス<dd>
      <select name="mainClass">
        <option value="">--</option>
        <option value="ステーシー" <TMPL_VAR mainClassSelected1>>ステーシー</option>
        <option value="タナトス" <TMPL_VAR mainClassSelected2>>タナトス</option>
        <option value="ゴシック" <TMPL_VAR mainClassSelected3>>ゴシック</option>
        <option value="レクイエム" <TMPL_VAR mainClassSelected4>>レクイエム</option>
        <option value="バロック" <TMPL_VAR mainClassSelected5>>バロック</option>
        <option value="ロマネスク" <TMPL_VAR mainClassSelected6>>ロマネスク</option>
        <option value="サイケデリック" <TMPL_VAR mainClassSelected7>>サイケデリック</option>
      </select>
    <dt>サブクラス<dd>
      <select name="subClass">
        <option value="">--</option>
        <option value="ステーシー" <TMPL_VAR subClassSelected1>>ステーシー</option>
        <option value="タナトス" <TMPL_VAR subClassSelected2>>タナトス</option>
        <option value="ゴシック" <TMPL_VAR subClassSelected3>>ゴシック</option>
        <option value="レクイエム" <TMPL_VAR subClassSelected4>>レクイエム</option>
        <option value="バロック" <TMPL_VAR subClassSelected5>>バロック</option>
        <option value="ロマネスク" <TMPL_VAR subClassSelected6>>ロマネスク</option>
        <option value="サイケデリック" <TMPL_VAR subClassSelected7>>サイケデリック</option>
      </select>
  </dl>
  <table id="enhancement" class="edit-table">
    <thead>
      <tr><th><th>基本値<th>成長<th>任意<th>合計</tr>
    </thead>
    <tbody>
      <tr id="enhance-arms-row">
        <th>武装</th>
        <td><input type="number" name="enhanceArms" id="enhance-arms-base" readonly></td>
        <td><input type="number" name="enhanceArmsGrow" value="<TMPL_VAR enhanceArmsGrow>"></td>
        <td class="radio"><input type="radio" name="enhanceAny" value="arms"<TMPL_IF enhanceAnyArms> checked</TMPL_IF>></td>
        <td id="enhance-arms-total"></td>
      </tr>
      <tr id="enhance-mutate-row">
        <th>変異</th>
        <td><input type="number" name="enhanceMutate" id="enhance-mutate-base" readonly></td>
        <td><input type="number" name="enhanceMutateGrow" value="<TMPL_VAR enhanceMutateGrow>"></td>
        <td class="radio"><input type="radio" name="enhanceAny" value="mutate"<TMPL_IF enhanceAnyMutate> checked</TMPL_IF>></td>
        <td id="enhance-mutate-total"></td>
      </tr>
      <tr id="enhance-modify-row">
        <th>改造</th>
        <td><input type="number" name="enhanceModify" id="enhance-modify-base" readonly></td>
        <td><input type="number" name="enhanceModifyGrow" value="<TMPL_VAR enhanceModifyGrow>"></td>
        <td class="radio"><input type="radio" name="enhanceAny" value="modify"<TMPL_IF enhanceAnyModify> checked</TMPL_IF>></td>
        <td id="enhance-modify-total"></td>
      </tr>
    </tbody>
  </table>
  <dl>
    <dt>行動値<dd><input type="number" name="actionPoint" value="<TMPL_VAR actionPoint>">
    <dt>狂気点<dd><input type="number" name="madnessPoint" value="<TMPL_VAR madnessPoint>">
  </dl>
</section>
<section id="maneuvers" class="box">
  <h2>マニューバ</h2>
  <input type="hidden" name="maneuverNum" value="<TMPL_VAR maneuverNum>">
  <table class="edit-table line-tbody no-border-cells" id="maneuver-table">
    <thead>
      <tr><th><th>破損<th>使用<th>部位<th>名称<th>タイミング<th>コスト<th>射程<th class="left">効果</tr>
    </thead>
    <tbody id="maneuver-list">
<TMPL_LOOP ManeuverRows>
      <tr id="maneuver-row<TMPL_VAR ID>">
        <td class="handle"></td>
        <td><input type="checkbox" name="maneuverBroken<TMPL_VAR ID>" <TMPL_VAR BROKEN>></td>
        <td><input type="checkbox" name="maneuverUsed<TMPL_VAR ID>" <TMPL_VAR USED>></td>
        <td>
          <select name="maneuverPart<TMPL_VAR ID>">
            <option value="スキル" <TMPL_VAR PART_SKILL>>スキル</option>
            <option value="頭" <TMPL_VAR PART_HEAD>>頭</option>
            <option value="腕" <TMPL_VAR PART_ARM>>腕</option>
            <option value="胴" <TMPL_VAR PART_BODY>>胴</option>
            <option value="脚" <TMPL_VAR PART_LEG>>脚</option>
          </select>
        </td>
        <td><input type="text" name="maneuverName<TMPL_VAR ID>" value="<TMPL_VAR NAME>"></td>
        <td>
          <select name="maneuverTiming<TMPL_VAR ID>">
            <option value="オート" <TMPL_VAR TIMING_AUTO>>オート</option>
            <option value="アクション" <TMPL_VAR TIMING_ACTION>>アクション</option>
            <option value="ラピッド" <TMPL_VAR TIMING_RAPID>>ラピッド</option>
            <option value="ジャッジ" <TMPL_VAR TIMING_JUDGE>>ジャッジ</option>
            <option value="ダメージ" <TMPL_VAR TIMING_DAMAGE>>ダメージ</option>
            <option value="効果参照" <TMPL_VAR TIMING_REF>>効果参照</option>
          </select>
        </td>
        <td><input type="text" name="maneuverCost<TMPL_VAR ID>" value="<TMPL_VAR COST>"></td>
        <td><input type="text" name="maneuverRange<TMPL_VAR ID>" value="<TMPL_VAR RANGE>"></td>
        <td><input type="text" name="maneuverNote<TMPL_VAR ID>" value="<TMPL_VAR NOTE>"></td>
      </tr>
</TMPL_LOOP>
    </tbody>
  </table>
  <div class="add-del-button"><a onclick="addManeuver()">▼</a><a onclick="delManeuver()">▲</a></div>
  <template id="maneuver-template">
    <tr id="maneuver-rowTMPL">
      <td class="handle"></td>
      <td><input type="checkbox" name="maneuverBrokenTMPL"></td>
      <td><input type="checkbox" name="maneuverUsedTMPL"></td>
      <td>
        <select name="maneuverPartTMPL">
          <option value="スキル">スキル</option>
          <option value="頭">頭</option>
          <option value="腕">腕</option>
          <option value="胴">胴</option>
          <option value="脚">脚</option>
        </select>
      </td>
      <td><input type="text" name="maneuverNameTMPL"></td>
      <td>
        <select name="maneuverTimingTMPL">
          <option value="オート">オート</option>
          <option value="アクション">アクション</option>
          <option value="ラピッド">ラピッド</option>
          <option value="ジャッジ">ジャッジ</option>
          <option value="ダメージ">ダメージ</option>
          <option value="効果参照">効果参照</option>
        </select>
      </td>
      <td><input type="text" name="maneuverCostTMPL"></td>
      <td><input type="text" name="maneuverRangeTMPL"></td>
      <td><input type="text" name="maneuverNoteTMPL"></td>
    </tr>
  </template>
</section>
<section id="memory" class="box">
  <h2>メモリー</h2>
  <textarea name="memory" rows="4"><TMPL_VAR memory></textarea>
</section>
<section id="free-note" class="box">
  <h2>自由メモ</h2>
  <textarea name="freeNote" rows="4"><TMPL_VAR freeNote></textarea>
</section>
<p class="submit"><input type="submit" value="保存"></p>
</article>
</form>
<div class="back-button"><a href="./">⏎</a></div>
</main>
<script src="<TMPL_VAR coreDir>/lib/edit.js?<TMPL_VAR ver>" defer></script>
<script src="<TMPL_VAR coreDir>/lib/nc/edit-chara.js?<TMPL_VAR ver>" defer></script>
<footer>
  <p class="notes">©Incog.Lab「永い後日談のネクロニカ」</p>
  <p class="copyright">©<a href="https://yutorize.2-d.jp">ゆとらいず工房</a>「ゆとシートⅡ」ver.<TMPL_VAR ver></p>
</footer>
</body>
</html>
